(this["webpackJsonpreact-deploy"]=this["webpackJsonpreact-deploy"]||[]).push([[0],{23:function(e,a,t){e.exports=t(35)},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(14),o=t.n(l),c=(t(28),t(21)),s=t(15),m=t(16),i=t(19),d=t(22),u=(t(29),t(7)),p=t(5),E=function(e){var a="info";return 0===e?a="success":1===e&&(a="danger"),"badge badge-pill badge-"+a+" mr-1"};var h=function(e){var a=e.pin;return n.a.createElement("span",{className:E(a.state)},a.pin)},v=t(20),b=function(e){var a=Math.floor(e/86400),t=Math.floor(e%86400/3600),r=Math.floor(e%86400%3600/60),n=e%60,l="";return a>=1&&(l+=a+"d "),t>=1&&(l+=" "+t+"h "),r>=1&&(l+=" "+r+"m "),n>1&&(l+=" "+n+"s"),""===l&&(l="n/a"),l},f=function(e){return(e/1e3).toFixed(2)+"s"},g=function(e){return(e/1e3).toFixed(2)+"k"},N=function(e){return 2*(e+100)+"%"},w=function(e,a){e=e||[];var t={};return Object(v.a)(Array(a)).forEach((function(e,a){t[a+1]="?"})),e.forEach((function(e){t[e.pin]=e.state})),Object.keys(t).map((function(e){return{pin:e,state:t[e]}}))},y=function(e){var a=e.host,t=e.port;return n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://"+a+":"+t},a,":",t)};var k=function(e){var a=e.board;return a=a||{mac:"DATA MISSING"},n.a.createElement("div",{className:"card border-primary"},n.a.createElement("h5",{className:"card-header text-white bg-primary"},n.a.createElement("small",{className:"float-right font-weight-normal mt-1"},"(",f(a.t),")"),a.name),n.a.createElement("div",{className:"card-body"},n.a.createElement("dl",{className:"row mb-0"},n.a.createElement("dt",{className:"col-sm-4"},"MAC"),n.a.createElement("dd",{className:"col-sm-8"},a.mac),n.a.createElement("dt",{className:"col-sm-4"},"HOST"),n.a.createElement("dd",{className:"col-sm-8"},n.a.createElement(y,{host:a.ip,port:a.port})),n.a.createElement("dt",{className:"col-sm-4"},"WIFI"),n.a.createElement("dd",{className:"col-sm-8"},N(a.rssi)),n.a.createElement("dt",{className:"col-sm-4"},"UPTIME"),n.a.createElement("dd",{className:"col-sm-8"},b(a.uptime)),n.a.createElement("dt",{className:"col-sm-4"},"FREE"),n.a.createElement("dd",{className:"col-sm-8"},g(a.heap)))),n.a.createElement("div",{className:"card-footer"},w(a.sensors,6).map((function(e,a){return n.a.createElement(h,{pin:e,key:a})}))))};var M=function(e){var a=e.boards;return e.format,n.a.createElement("div",{className:"row row-cols-1 row-cols-md-2"},a.map((function(e,a){return n.a.createElement("div",{className:"col mb-4",key:a},n.a.createElement(k,{board:e}))})))};var x=function(e){var a=e.board;return a=a||{mac:"DATA MISSING"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},a.name),n.a.createElement("td",null,a.mac),n.a.createElement("td",null,n.a.createElement(y,{host:a.ip,port:a.port})),n.a.createElement("td",null,f(a.t)),n.a.createElement("td",null,N(a.rssi)),n.a.createElement("td",null,b(a.uptime)),n.a.createElement("td",null,g(a.heap)),n.a.createElement("td",null,w(a.sensors,6).map((function(e,a){return n.a.createElement(h,{pin:e,key:a})}))))};var S=function(e){var a=e.boards;return e.format,n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"name"),n.a.createElement("th",{scope:"col"},"mac"),n.a.createElement("th",{scope:"col"},"host"),n.a.createElement("th",{scope:"col"},"t"),n.a.createElement("th",{scope:"col"},"wifi"),n.a.createElement("th",{scope:"col"},"uptime"),n.a.createElement("th",{scope:"col"},"free"),n.a.createElement("th",{scope:"col"},"sensors"))),n.a.createElement("tbody",null,a.map((function(e,a){return n.a.createElement(x,{board:e,key:a})}))))};var A=function(e){var a=e.boards,t=new URLSearchParams(Object(p.f)().search).get("v")||"card";return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"mb-4 text-right"},n.a.createElement("div",{className:"btn-group"},n.a.createElement("button",{type:"button",className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"View as ","card"===t?"Card":"Table"),n.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},n.a.createElement(u.b,{className:"dropdown-item",to:"/"},"Card ","card"===t&&n.a.createElement("span",{className:"text-primary"},"\u2022")),n.a.createElement(u.b,{className:"dropdown-item",to:"/?v=table"},"Table ","table"===t&&n.a.createElement("span",{className:"text-primary"},"\u2022"))))),"card"===t&&n.a.createElement(M,{boards:a}),"table"===t&&n.a.createElement(S,{boards:a}))};var B=function(){return n.a.createElement("div",null,"Board 1",n.a.createElement("ol",null,n.a.createElement("li",null,"Garage Door"),n.a.createElement("li",null,"Garage Motion")),"Board 2",n.a.createElement("ol",null,n.a.createElement("li",null,"Dining Room Motion")),"Board 3",n.a.createElement("ol",null,n.a.createElement("li",null,"Kitchen Motion")))};function j(e){var a=e.boards;return n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement(u.c,{to:"/",className:"navbar-brand"},n.a.createElement("svg",{className:"bi bi-house-door align-text-top",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",d:"M7.646 1.146a.5.5 0 01.708 0l6 6a.5.5 0 01.146.354v7a.5.5 0 01-.5.5H9.5a.5.5 0 01-.5-.5v-4H7v4a.5.5 0 01-.5.5H2a.5.5 0 01-.5-.5v-7a.5.5 0 01.146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 01.5-.5h3a.5.5 0 01.5.5v4h3.5V7.707L8 2.207l-5.5 5.5z",clipRule:"evenodd"}),n.a.createElement("path",{fillRule:"evenodd",d:"M13 2.5V6l-2-2V2.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5z",clipRule:"evenodd"}))),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},n.a.createElement("div",{className:"navbar-nav"},n.a.createElement(u.c,{to:"/info",className:"nav-item nav-link"},"Board Info")))),n.a.createElement("div",{className:"m-4"},n.a.createElement(p.c,null,n.a.createElement(p.a,{exact:!0,path:"/",children:n.a.createElement(A,{boards:a})}),n.a.createElement(p.a,{path:"/info",children:n.a.createElement(B,null)}))))}var H=function(e){Object(d.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={boards:[],format:"card"},e}return Object(m.a)(t,[{key:"updateState",value:function(e,a){var t=this,r={};r["board_"+e]=a,this.setState(r),this.setState({boards:this.props.boardHosts.map((function(r,n){return e===n?a:t.state["board_"+n]||t.state.boards[n]}))})}},{key:"componentDidMount",value:function(){var e=this,a=(new Date).getTime();this.setState({boards:this.props.boardHosts.map((function(e,a){return{name:"Board "+(a+1),mac:"Loading...",ip:e.host,port:e.port}}))}),this.props.boardHosts.forEach((function(t,r){var n=t.host,l=t.port;fetch("http://"+n+":"+l+"/status").then((function(e){return e.json()})).then((function(t){var n=(new Date).getTime(),l=Object(c.a)({},t,{t:n-a,name:"Board "+(r+1)});e.updateState(r,l)})).catch((function(a){e.updateState(r,{name:"Board "+(r+1),mac:""+a,ip:n,port:l}),console.log(a)}))}))}},{key:"render",value:function(){return n.a.createElement(u.a,{basename:"/konnected"},n.a.createElement(j,{boards:this.state.boards}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(H,{boardHosts:[{host:"10.0.0.122",port:13682},{host:"10.0.0.60",port:22291},{host:"10.0.0.197",port:13681},{host:"10.0.0.62",port:22261}]})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.f7ed20d6.chunk.js.map